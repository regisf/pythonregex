{% extends 'root.tpl.html' %}

{% block content %}
<div class="uk-alert">
    <h2 class="uk-text-large">Your profile</h2>
    <p>This is the only informations we have on you.</p>
</div>

<form action="/user/profile/" method="post" class="uk-form">
    {% raw xsrf_form_html() %}

    <div class="uk-form-row">
        <label class="uk-form-label">Your name</label>
        <input type="text" name="name" placeholder="Type your name here" class="uk-form-large uk-width-small{% if 'username' in fields %} uk-form-danger{% end %}" value="{{ username }}" required>
        {% if 'username' in fields %}
            <div class="uk-text-danger">{{ error_messages['username'] }}</div>
        {% end %}
    </div>

    <div class="uk-form-row">
        <label class="uk-form-label">Your email</label>
        <input type="email" name="email" placeholder="Type your mail address here" class="uk-form-large uk-width-small{% if 'email' in fields %} uk-form-danger{% end %}" value="{{ email }}" required>
        <small>A confirmation mail will be send if you change this.</small>
        {% if 'email' in fields %}
            <div class="uk-text-danger">{{ error_messages['email'] }}</div>
        {% end %}
    </div>

    <div class="uk-alert uk-alert-warning">
        <p>You and only you know your password, but you can change it here by typing twice the password</p>
    </div>

    <div class="uk-form-row">
        <label class="uk-form-label">Your password:</label>
        <input type="password" name="password"  class="uk-form-large uk-width-small{% if 'password' in fields %} uk-form-danger{% end %}" placeholder="Type your password here" autocomplete="off">
        {% if 'password' in fields %}
            <div class="uk-text-danger">{{ error_messages['password'] }}</div>
        {% end %}
    </div>
    <div class="uk-form-row">
        <label>Your password confirmation:</label>
        <input type="password" name="confirm"  class="uk-form-large uk-width-small{% if 'confirm' in fields %} uk-form-danger{% end %}" placeholder="Type your password confirmation here">
        {% if 'confirm' in fields %}
            <div class="uk-text-danger">{{ error_messages['confirm'] }}</div>
        {% end %}
    </div>

    <div class="uk-form-row uk-clearfix uk-align-right">
        <a class="uk-button uk-button-danger" href="/">Cancel</a>
        <input type="submit" class="uk-button uk-button-primary" value="Change" />
    </div>
</form>
{% end %}